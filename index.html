<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Äiá»ƒm Sao Äá»</title>

<style>
body {
  font-family: Arial;
  background: #e8f4ff;
  margin: 0;
  padding: 20px;
}

h1 {
  text-align: center;
}

.container {
  display: flex;
  gap: 20px;
}

table {
  border-collapse: collapse;
  width: 100%;
  background: white;
}

th, td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: center;
}

th {
  background: #1976d2;
  color: white;
}

.lop-row {
  cursor: pointer;
}

.lop-row:hover {
  background: #e3f2fd;
}

#panel {
  width: 320px;
  background: #d0ebff;
  padding: 10px;
  display: none;
}

#panel h3 {
  text-align: center;
}

input[type=number] {
  width: 60px;
}
</style>
</head>

<body>

<h1>Báº¢NG ÄIá»‚M SAO Äá»</h1>

<div class="container">

<!-- Báº¢NG Xáº¾P Háº NG -->
<table id="bang">
  <tr>
    <th>Lá»›p</th>
    <th>Tá»•ng Ä‘iá»ƒm</th>
    <th>Xáº¿p háº¡ng</th>
  </tr>

  <tr class="lop-row" data-lop="6A" onclick="chonLop(this)"> <td>6A</td><td class="tong">100</td><td class="xephang"></td> </tr>
  <tr class="lop-row" data-lop="6B" onclick="chonLop(this)"> <td>6B</td><td class="tong">100</td><td class="xephang"></td> </tr>
  <tr class="lop-row" data-lop="6C" onclick="chonLop(this)"> <td>6C</td><td class="tong">100</td><td class="xephang"></td> </tr>
  <tr class="lop-row" data-lop="7A" onclick="chonLop(this)"> <td>7A</td><td class="tong">100</td><td class="xephang"></td> </tr>
  <tr class="lop-row" data-lop="7B" onclick="chonLop(this)"> <td>7B</td><td class="tong">100</td><td class="xephang"></td> </tr>
  <tr class="lop-row" data-lop="7C" onclick="chonLop(this)"> <td>7C</td><td class="tong">100</td><td class="xephang"></td> </tr>
  <tr class="lop-row" data-lop="8A" onclick="chonLop(this)"> <td>8A</td><td class="tong">100</td><td class="xephang"></td> </tr>
  <tr class="lop-row" data-lop="8B" onclick="chonLop(this)"> <td>8B</td><td class="tong">100</td><td class="xephang"></td> </tr>
  <tr class="lop-row" data-lop="8C" onclick="chonLop(this)"> <td>8C</td><td class="tong">100</td><td class="xephang"></td> </tr>
  <tr class="lop-row" data-lop="9A" onclick="chonLop(this)"> <td>9A</td><td class="tong">100</td><td class="xephang"></td> </tr>
  <tr class="lop-row" data-lop="9B" onclick="chonLop(this)"> <td>9B</td><td class="tong">100</td><td class="xephang"></td> </tr>
  <tr class="lop-row" data-lop="9C" onclick="chonLop(this)"> <td>9C</td><td class="tong">100</td><td class="xephang"></td> </tr>
</table>

<!-- Báº¢NG Lá»–I -->
<div id="panel">
  <h3 id="tenlop">Lá»›p</h3>

  <table>
    <tr><th>Lá»—i</th><th>Sá»‘ láº§n</th></tr>

    <tr>
      <td>Äi há»c muá»™n (-2)</td>
      <td><input type="number" min="0" data-diem="2"></td>
    </tr>
    <tr>
      <td>KhÃ´ng Ä‘á»“ng phá»¥c (-5)</td>
      <td><input type="number" min="0" data-diem="5"></td>
    </tr>
    <tr>
      <td>KhÃ´ng Ä‘eo khÄƒn quÃ ng (-3)</td>
      <td><input type="number" min="0" data-diem="3"></td>
    </tr>
    <tr>
      <td>NÃ³i chuyá»‡n trong giá» (-2)</td>
      <td><input type="number" min="0" data-diem="2"></td>
    </tr>
  </table>

  <br>
  <button onclick="apDung()">Ãp dá»¥ng</button>
</div>

</div>

<script>
let lopDangChon = null;

function chonLop(row) {
  lopDangChon = row;
  document.getElementById("panel").style.display = "block";
  document.getElementById("tenlop").innerText = "Lá»›p " + row.dataset.lop;

  document.querySelectorAll("#panel input").forEach(i => i.value = 0);
}

function apDung() {
  let tongTru = 0;
  document.querySelectorAll("#panel input").forEach(i => {
    tongTru += (Number(i.value) || 0) * Number(i.dataset.diem);
  });

  let tong = 100 - tongTru;
  if (tong < 0) tong = 0;

  lopDangChon.querySelector(".tong").innerText = tong;
  lopDangChon.dataset.tong = tong;

  xepHang();
}

function xepHang() {
  let rows = Array.from(document.querySelectorAll(".lop-row"));
  rows.sort((a,b) => (b.dataset.tong || 100) - (a.dataset.tong || 100));

  rows.forEach((r,i)=>{
    let h = i+1;
    let t = h;
    if(h==1) t="ğŸ¥‡";
    if(h==2) t="ğŸ¥ˆ";
    if(h==3) t="ğŸ¥‰";
    r.querySelector(".xephang").innerText = t;
  });
}
</script>

</body>
</html>


